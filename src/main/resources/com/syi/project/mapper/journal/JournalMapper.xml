<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.syi.project.mapper.journal.JournalMapper">

	<!-- 일지 등록 -->
	<!-- Insert a new Journal record -->
    <insert id="insertJournal" parameterType="com.example.model.Journal">
        INSERT INTO JOURNAL (JOURNAL_DATE, JOURNAL_TITLE)
        VALUES (SYSDATE, #{journalTitle})
    </insert>

    <!-- Insert a new JournalFile record -->
    <insert id="insertJournalFile" parameterType="com.example.model.JournalFile">
        INSERT INTO JOURNAL_FILE (FILE_ORIGINAL_NAME, FILE_SAVED_NAME, FILE_TYPE, FILE_SIZE, FILE_PATH, FILE_REG_DATE, JOURNAL_NO)
        VALUES (#{fileOriginalName}, #{fileSavedName}, #{fileType}, #{fileSize}, #{filePath}, SYSDATE, #{journalNo})
    </insert>

    <!-- Select a Journal record by ID -->
    <select id="selectJournalById" parameterType="Integer" resultType="com.example.model.Journal">
        SELECT * FROM JOURNAL
        WHERE JOURNAL_NO = #{journalNo}
    </select>

    <!-- Select a JournalFile record by ID -->
    <select id="selectJournalFileById" parameterType="Integer" resultType="com.example.model.JournalFile">
        SELECT * FROM JOURNAL_FILE
        WHERE FILE_NO = #{fileNo}
    </select>

</mapper>